{"ast":null,"code":"import { ACTIONS } from \"../../actionConstants\";\nimport { all } from \"redux-saga\";\nimport { call, put, takeLatest } from \"redux-saga/effects\";\nimport { userActions } from \"../actions/user\";\n\nconst getUser = async () => {\n  try {\n    const token = localStorage.getItem(\"token\");\n\n    if (!token) {\n      history.push(\"/\");\n    } else {\n      const {\n        data\n      } = await API.get(\"/person/me\", {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      }); // dispatch(\n      //   userActions.getUserData({\n      //     name: data.name,\n      //     email: data.email,\n      //     imageProfile: data.imageProfile,\n      //     signedCourses: data.courses,\n      //   })\n      // );\n      // history.push(\"/application\");\n\n      return data;\n    }\n  } catch (e) {\n    history.push(\"/\");\n  }\n};\n\nfunction* getUserRequested() {\n  const user = yield call(getUser);\n  yield put(userActions.getUserData(user));\n}","map":{"version":3,"sources":["/home/pcfmello/projetos/teste-entrevista-react/src/store/sagas/user.js"],"names":["ACTIONS","all","call","put","takeLatest","userActions","getUser","token","localStorage","getItem","history","push","data","API","get","headers","Authorization","e","getUserRequested","user","getUserData"],"mappings":"AAAA,SAASA,OAAT,QAAwB,uBAAxB;AAEA,SAASC,GAAT,QAAoB,YAApB;AACA,SAASC,IAAT,EAAeC,GAAf,EAAoBC,UAApB,QAAsC,oBAAtC;AAEA,SAASC,WAAT,QAA4B,iBAA5B;;AAEA,MAAMC,OAAO,GAAG,YAAY;AAC1B,MAAI;AACF,UAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;;AACA,QAAI,CAACF,KAAL,EAAY;AACVG,MAAAA,OAAO,CAACC,IAAR,CAAa,GAAb;AACD,KAFD,MAEO;AACL,YAAM;AAAEC,QAAAA;AAAF,UAAW,MAAMC,GAAG,CAACC,GAAJ,CAAQ,YAAR,EAAsB;AAC3CC,QAAAA,OAAO,EAAE;AACPC,UAAAA,aAAa,EAAG,UAAST,KAAM;AADxB;AADkC,OAAtB,CAAvB,CADK,CAML;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AACA,aAAOK,IAAP;AACD;AACF,GAtBD,CAsBE,OAAOK,CAAP,EAAU;AACVP,IAAAA,OAAO,CAACC,IAAR,CAAa,GAAb;AACD;AACF,CA1BD;;AA4BA,UAAUO,gBAAV,GAA6B;AAC3B,QAAMC,IAAI,GAAG,MAAMjB,IAAI,CAACI,OAAD,CAAvB;AACA,QAAMH,GAAG,CAACE,WAAW,CAACe,WAAZ,CAAwBD,IAAxB,CAAD,CAAT;AACD","sourcesContent":["import { ACTIONS } from \"../../actionConstants\";\n\nimport { all } from \"redux-saga\";\nimport { call, put, takeLatest } from \"redux-saga/effects\";\n\nimport { userActions } from \"../actions/user\";\n\nconst getUser = async () => {\n  try {\n    const token = localStorage.getItem(\"token\");\n    if (!token) {\n      history.push(\"/\");\n    } else {\n      const { data } = await API.get(\"/person/me\", {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n      // dispatch(\n      //   userActions.getUserData({\n      //     name: data.name,\n      //     email: data.email,\n      //     imageProfile: data.imageProfile,\n      //     signedCourses: data.courses,\n      //   })\n      // );\n\n      // history.push(\"/application\");\n      return data;\n    }\n  } catch (e) {\n    history.push(\"/\");\n  }\n};\n\nfunction* getUserRequested() {\n  const user = yield call(getUser);\n  yield put(userActions.getUserData(user));\n}\n"]},"metadata":{},"sourceType":"module"}