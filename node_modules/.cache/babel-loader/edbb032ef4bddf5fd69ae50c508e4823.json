{"ast":null,"code":"import { ACTIONS } from \"../../actionConstants\";\nimport { all } from \"redux-saga\";\nimport { call, put, takeLatest } from \"redux-saga/effects\";\nimport { userActions } from \"../actions/user\";\n\nconst getUser = async () => {\n  try {\n    const token = localStorage.getItem(\"token\");\n\n    if (!token) {\n      history.push(\"/\");\n    } else {\n      const {\n        data\n      } = await API.get(\"/person/me\", {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      dispatch(userActions.getUserData({\n        name: data.name,\n        email: data.email,\n        imageProfile: data.imageProfile,\n        signedCourses: data.courses\n      }));\n      history.push(\"/application\");\n    }\n  } catch (e) {\n    // toast.error(\n    //   <ToastMessage title=\"Erro\" message={e.response.data.detail} />\n    // );\n    history.push(\"/\");\n  }\n};\n\nfunction* getUserRequested() {\n  const user = yield call(getUser);\n}","map":{"version":3,"sources":["/home/pcfmello/projetos/teste-entrevista-react/src/store/sagas/user.js"],"names":["ACTIONS","all","call","put","takeLatest","userActions","getUser","token","localStorage","getItem","history","push","data","API","get","headers","Authorization","dispatch","getUserData","name","email","imageProfile","signedCourses","courses","e","getUserRequested","user"],"mappings":"AAAA,SAASA,OAAT,QAAwB,uBAAxB;AAEA,SAASC,GAAT,QAAoB,YAApB;AACA,SAASC,IAAT,EAAeC,GAAf,EAAoBC,UAApB,QAAsC,oBAAtC;AAEA,SAASC,WAAT,QAA4B,iBAA5B;;AAEA,MAAMC,OAAO,GAAG,YAAY;AAC1B,MAAI;AACF,UAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;;AACA,QAAI,CAACF,KAAL,EAAY;AACVG,MAAAA,OAAO,CAACC,IAAR,CAAa,GAAb;AACD,KAFD,MAEO;AACL,YAAM;AAAEC,QAAAA;AAAF,UAAW,MAAMC,GAAG,CAACC,GAAJ,CAAQ,YAAR,EAAsB;AAC3CC,QAAAA,OAAO,EAAE;AACPC,UAAAA,aAAa,EAAG,UAAST,KAAM;AADxB;AADkC,OAAtB,CAAvB;AAKAU,MAAAA,QAAQ,CACNZ,WAAW,CAACa,WAAZ,CAAwB;AACtBC,QAAAA,IAAI,EAAEP,IAAI,CAACO,IADW;AAEtBC,QAAAA,KAAK,EAAER,IAAI,CAACQ,KAFU;AAGtBC,QAAAA,YAAY,EAAET,IAAI,CAACS,YAHG;AAItBC,QAAAA,aAAa,EAAEV,IAAI,CAACW;AAJE,OAAxB,CADM,CAAR;AASAb,MAAAA,OAAO,CAACC,IAAR,CAAa,cAAb;AACD;AACF,GArBD,CAqBE,OAAOa,CAAP,EAAU;AACV;AACA;AACA;AACAd,IAAAA,OAAO,CAACC,IAAR,CAAa,GAAb;AACD;AACF,CA5BD;;AA8BA,UAAUc,gBAAV,GAA6B;AAC3B,QAAMC,IAAI,GAAG,MAAMxB,IAAI,CAACI,OAAD,CAAvB;AACD","sourcesContent":["import { ACTIONS } from \"../../actionConstants\";\n\nimport { all } from \"redux-saga\";\nimport { call, put, takeLatest } from \"redux-saga/effects\";\n\nimport { userActions } from \"../actions/user\";\n\nconst getUser = async () => {\n  try {\n    const token = localStorage.getItem(\"token\");\n    if (!token) {\n      history.push(\"/\");\n    } else {\n      const { data } = await API.get(\"/person/me\", {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n      dispatch(\n        userActions.getUserData({\n          name: data.name,\n          email: data.email,\n          imageProfile: data.imageProfile,\n          signedCourses: data.courses,\n        })\n      );\n\n      history.push(\"/application\");\n    }\n  } catch (e) {\n    // toast.error(\n    //   <ToastMessage title=\"Erro\" message={e.response.data.detail} />\n    // );\n    history.push(\"/\");\n  }\n};\n\nfunction* getUserRequested() {\n  const user = yield call(getUser);\n}\n"]},"metadata":{},"sourceType":"module"}